# CHAPTER 12 스위프트 구조체

## 12. 스위프트 구조체

* 구조체 선언, 사용 방법
* 구조체와 클래스의 차이점
* 값 타입, 참조 타입 개념

### 12.1 스위프트 구조체 개요

* **struct**
  * 클래스처럼 객체 지향 프로그래밍의 기초를 형성하며
  * 데이터와 기능을 재사용할 수 있는 객체로
  * 캡슐화하는 방법을 제공한다.
* extension 가능
* 프로토콜 채택 가능
* initializer 존재

클래스와 구조체의 공통점과 차이점을 이해하는 것이 중요하다. 이를 위해 값 타입과 참조 타입에 대한 개념을 먼저 이해해야 한다.

### 12.2 값 타입 vs. 참조 타입

* 인스턴스가 복사되거나 매서드 또는 함수에 인자가 전달될 때 어떤 일이 발생할지
* 값 타입
  * **구조체의 인스턴스**는 값 타입이다.
  * 인스턴스의 실제 복사본이 생성되면서
  * 원본 객체가 가지고 있던 모든 데이터를 그대로 복사해서 갖는다
  * 하나의 인스턴스를 변경해도 다른 복사본들에 영향을 미치지 않는다
* 참조 타입
  * **클래스의 인스턴스**는 참조 타입이다.
  * 해당 클래스 인스턴스가 있는 메모리의 위치에 대한 참조체가 만들어지거나 전달된다.
  * 참조체를 변경하면 원본 인스턴스에도 동일한 작업이 수행된다.
  * 하나의 클래스 인스턴스와, 그 인스턴스를 가리키는 여러 개의 참조체
  * 참조체 중 하나를 이용해 인스턴스 데이터를 변경하면, 모든 reference의 데이터가 변경됨

#### additional 차이점

* 구조체
  * 상속을 지원하지 않음
  * deinit이 없음
* 클래스는 runtime에서 instance의 type을 식별할 수 있다

### 12.3 구조체와 클래스는 언제 사용하는가?

* 일반적으로 구조체가 클래스보다
  * 효율적이고
  * 멀티 스레드 코드를 사용하는 데 더 안정적이다
* 다음과 같은 경우 클래스를 사용한다
  * 상속이 필요
  * 데이터가 캡슐화된 하나의 인스턴스가 필요 (싱글턴)
  * deinit이 필요
    * 인스턴스 소멸될 때 리소스를 확보하기 위한 작업이 필요

### 12.4 요약

* 구조체와 클래스의 공통점
  * 프로퍼티 정의 및 값 저장
  * 메서드 정의
* 차이점
  * 값 타입 vs 참조 타입
  * 클래스만의 고유한 기능
    * 상속
    * deinit
    * runtime에서 클래스 타입 식별 가능 - identity 개념
      * 식별 연산자(`===`, `!==`)
* 클래스만의 기능이 필요하지 않다면 **일반적으로 구조체를 사용**하자
